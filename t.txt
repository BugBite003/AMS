#include <Arduino.h> // Include the necessary header for Arduino functions
#include <SoftwareSerial.h>
#include <HardwareSerial.h>
#include <stdlib.h>

// Function prototype
int hexCharToDec(char c);

// Define the TX pin for SoftwareSerial
#define RFID_TX_PIN 8 // Change to digital pin 8

SoftwareSerial RFID(RFID_TX_PIN, -1); // RX pin not used

void setup() {
  Serial.begin(9600);  // Start serial communication for debugging
  RFID.begin(9600);    // Start the RFID module with a baud rate of 9600
}

void loop() {
  if (RFID.available() > 0) {
    char val = RFID.read();
    //Serial.print("val: ");
    //Serial.println(val);
    static char tagID[12]; // Create a static array to store the tag ID
    static int index = 0;  // Create an index variable to keep track of the current position in the tagID array
    if (val >= 0 ) { // Check if the character is a digit
      tagID[index] = val; // Store the character in the tagID array
      index++; // Increment the index
    }
    if (index == 12) { // Check if the tagID array is full
      tagID[index] = '\0'; // Add a null terminator to the tagID string
      //Serial.println("Tag ID: ");
      Serial.println(tagID);
      index = 0; // Reset the index
    }
  }
}

